cmake_minimum_required(VERSION 3.20)

project(External NONE)

include(ExternalProject)

ExternalProject_Add(
  cppad
  URL https://github.com/coin-or/CppAD/archive/refs/tags/20230000.0.zip
  URL_HASH
    SHA256=a5a6b32e026c01f71dba580552176cd9fc69b72ec3156c9438552d42068ac54a
  CMAKE_CACHE_ARGS -Dcppad_prefix:STRING=${CMAKE_BINARY_DIR}/external/cppad)

ExternalProject_Add(
  cppadcodegen
  URL https://github.com/fdevinc/CppADCodeGen/archive/refs/tags/v2.4.3-ungar.zip
  URL_HASH
    SHA256=63adcd082b6de959763460797619dcdef92353498b8ccdf0a312ae0a91dd1d3a
  CMAKE_CACHE_ARGS
    -DCPPAD_HOME:STRING=${CMAKE_BINARY_DIR}/external/cppad/include
    -DCMAKE_INSTALL_PREFIX:STRING=${CMAKE_BINARY_DIR}/external/cppadcodegen
    -DCPPADCODEGEN_BUILD_TESTS:BOOL=OFF
  DEPENDS cppad)
