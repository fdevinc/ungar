cmake_minimum_required(VERSION 3.20)

project(ExternalURDFDom NONE)

include(ExternalProject)

if(NOT @urdfdom_CMAKE_FLAGS@ STREQUAL "")
  message(STATUS "urdfdom additional CMake flags: @urdfdom_CMAKE_FLAGS@")
endif()

ExternalProject_Add(
  urdfdom-4.0.0
  URL https://github.com/ros/urdfdom/archive/refs/tags/4.0.0.zip
  URL_HASH
    SHA256=a74b9d38e2b018bd72dc663499a6dec14994243c9029733ea89c4c63a463483b
  CMAKE_CACHE_ARGS
    -DCMAKE_POLICY_DEFAULT_CMP0074:STRING=NEW
    -DCMAKE_CXX_STANDARD:STRING=20
    -DCMAKE_INSTALL_PREFIX:STRING=@CMAKE_CURRENT_BINARY_DIR@/urdfdom/install
    -DTinyXML2_ROOT:STRING=@TINYXML2_ROOT_DIRECTORY@
    -Dconsole_bridge_ROOT:STRING=@CONSOLE_BRIDGE_ROOT_DIRECTORY@
    -Durdfdom_headers_ROOT:STRING=@URDFDOM_HEADERS_ROOT_DIRECTORY@
    @urdfdom_CMAKE_FLAGS@
  UPDATE_DISCONNECTED 1
  DOWNLOAD_EXTRACT_TIMESTAMP 1)
