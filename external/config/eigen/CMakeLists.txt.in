cmake_minimum_required(VERSION 3.20)

project(ExternalEigen NONE)

include(ExternalProject)

if(NOT @Eigen3_CMAKE_FLAGS@ STREQUAL "")
  message(STATUS "Eigen additional CMake flags: @Eigen3_CMAKE_FLAGS@")
endif()

ExternalProject_Add(
  eigen-3.4.0
  URL @BUNDLED_EIGEN_FILENAME@
  URL_HASH
    SHA256=1ccaabbfe870f60af3d6a519c53e09f3dcf630207321dffa553564a8e75c4fc8
  CMAKE_CACHE_ARGS
    -DCMAKE_CXX_STANDARD:STRING=20
    -DCMAKE_INSTALL_PREFIX:STRING=@CMAKE_CURRENT_BINARY_DIR@/eigen/install
    -DEIGEN_BUILD_DOC:BOOL=OFF
    -DBUILD_TESTING:BOOL=OFF
    -DEIGEN_LEAVE_TEST_IN_ALL_TARGET:BOOL=OFF
    -DEIGEN_BUILD_PKGCONFIG:BOOL=OFF
    @Eigen3_CMAKE_FLAGS@
  UPDATE_DISCONNECTED 1
  DOWNLOAD_EXTRACT_TIMESTAMP 1)
